<div class="row mb-3">
  <div class="col-md-12 d-flex justify-content-end">
    <div class="input-group mb-3" style="width: 40%;">
      <input type="text"
        class="form-control"
        placeholder="Buscar por nombre o categoría..."
        [(ngModel)]="query"
      >
      <button
        class="btn"
        type="button"
        (click)="searchBooks()"
        style="
          background-color: #17202A !important;
          color: #EAECEE !important;
        "
      >
        <i class="fad fa-search"></i>
      </button>
      <button
        class="btn btn-danger"
        type="button"
        (click)="cleanBooks()"
      >
        <i class="fad fa-trash-alt"></i>
      </button>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-12" *ngIf="books.length === 0">
    <div class="row">
      <div class="col-md-12 d-flex align-items-center justify-content-center">
        <h1> Oops... </h1>
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-md-12 d-flex align-items-center justify-content-center">
        <h3> No se encontraron libros en este momento! </h3>
      </div>
    </div>
  </div>
  <div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4" *ngFor="let book of books">
    <div class="card h-100">
      <img
        [src]="book.imageUrl"
        class="card-img-top"
        [alt]="book.title"
        style="height: 300px; object-fit: cover;"
      >
      <div class="card-body d-flex flex-column">
        <h5 class="card-title">{{ book.title }}</h5>
        <p class="card-text">
          <span>
            <b>
              Descripción:
            </b>
            {{ book.description }} <br>
          </span>
          <span>
            <b>
              Autor:
            </b>
            {{ book.author }} <br>
          </span>
          <span>
            <b>
              Categorías:
            </b>
            <ng-container *ngFor="let category of book.categories; let last = last">
              {{ category.name }}<span *ngIf="!last">, </span>
            </ng-container>
          </span>
        </p>
        <a
          [routerLink]="['/books/detail', book.id]"
          class="btn mt-auto"
          style="
            background-color: #17202A !important;
            color: #EAECEE !important;
          "
        > Ver más! </a>
      </div>
    </div>
  </div>
</div>
